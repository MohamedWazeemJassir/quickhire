{% extends 'jobs/base.html' %}
{% block title %}Jobs in {{ category }}{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold mb-6">Jobs in {{ category }}</h1>

{% if jobs %}
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for job in jobs %}
        <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition border border-gray-100">
            <h2 class="text-xl font-semibold text-blue-600 hover:underline">
                <a href="{% url 'job_detail' job.id %}">{{ job.title }}</a>
            </h2>
            <p class="text-gray-500 text-sm mt-1">{{ job.company }}</p>
            <p class="mt-3 text-gray-700 line-clamp-1 break-words">
                {{ job.description }}
            </p>
            <p class="text-xs text-gray-400 mt-2">Posted {{ job.posted_at|timesince }} ago</p>
            <a href="{% url 'job_detail' job.id %}" 
               class="block mt-4 bg-blue-600 text-white text-center py-2 rounded-lg hover:bg-blue-700 transition">
               View Job
            </a>
        </div>
    {% endfor %}
</div>
{% else %}
<p class="text-gray-500">No jobs found in this category.</p>
{% endif %}

<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    plugins: [tailwindcssLineClamp],
  }
</script>
<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/line-clamp"></script>
{% endblock %}
